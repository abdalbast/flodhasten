"use strict";(self.webpackChunkflodhasten=self.webpackChunkflodhasten||[]).push([[917],{873:(e,r,i)=>{i.d(r,{cl:()=>d,d_:()=>g,lD:()=>u,qM:()=>l});const t="excellent",n="good",o="fair",s="needs_improvement",l={[t]:{min:90,max:100,color:"#27ae60",emoji:"\ud83c\udf1f"},[n]:{min:70,max:89,color:"#f39c12",emoji:"\ud83d\udc4d"},[o]:{min:50,max:69,color:"#e67e22",emoji:"\ud83d\ude10"},[s]:{min:0,max:49,color:"#e74c3c",emoji:"\ud83d\ude15"}},a=[{word:"hej",english:"hello",pronunciation:"hey",difficulty:"easy",stress:"first_syllable",tips:['Pronounce like English "hey"',"Keep it short and crisp"],common_mistakes:["hay","haj","he"]},{word:"tack",english:"thank you",pronunciation:"tahk",difficulty:"easy",stress:"first_syllable",tips:['Short "a" sound like in "father"','Hard "k" at the end'],common_mistakes:["tack","tak","tahk"]},{word:"hej d\xe5",english:"goodbye",pronunciation:"hey daw",difficulty:"medium",stress:"second_syllable",tips:['"hej" like hello','"d\xe5" rhymes with "saw"'],common_mistakes:["hey doh","hej do","hey do"]},{word:"god morgon",english:"good morning",pronunciation:"goo mor-gon",difficulty:"medium",stress:"compound_words",tips:['"god" like "good"','"morgon" stress on first syllable'],common_mistakes:["good morning","god morning","goo mor-gun"]},{word:"v\xe4lkommen",english:"welcome",pronunciation:"vel-kom-men",difficulty:"hard",stress:"first_syllable",tips:['"v\xe4l" like "well"','Soft "k" sound','Clear "en" ending'],common_mistakes:["welcome","vel-kom-en","vel-kom-men"]},{word:"urs\xe4kta",english:"excuse me",pronunciation:"ur-sek-ta",difficulty:"hard",stress:"second_syllable",tips:['"ur" like "ur" in "urban"','Soft "k" in middle','Clear "ta" ending'],common_mistakes:["excuse me","ur-sek-ta","ur-sek-ta"]},{word:"f\xf6rl\xe5t",english:"sorry",pronunciation:"fur-lot",difficulty:"medium",stress:"second_syllable",tips:['"f\xf6r" like "fur"','"l\xe5t" like "lot"'],common_mistakes:["sorry","for-lot","fur-lat"]},{word:"ja",english:"yes",pronunciation:"yah",difficulty:"easy",stress:"first_syllable",tips:['Like "ya" in "yacht"',"Short and clear"],common_mistakes:["yes","ja","yah"]},{word:"nej",english:"no",pronunciation:"nay",difficulty:"easy",stress:"first_syllable",tips:['Like "nay" in English','Clear "j" sound'],common_mistakes:["no","nei","nay"]},{word:"bra",english:"good",pronunciation:"brah",difficulty:"easy",stress:"first_syllable",tips:['Like "bra" in English','Short "a" sound'],common_mistakes:["good","bra","brah"]}],d=(e,r)=>{const i=r.toLowerCase(),t=e.toLowerCase();let n=0;if(t===i)n=100;else{const e=i.split(""),r=t.split("");let o=0,s=Math.max(e.length,r.length);for(let i=0;i<Math.min(e.length,r.length);i++)e[i]===r[i]&&o++;n=Math.round(o/s*100),(t.includes(i)||i.includes(t))&&(n=Math.min(n+10,100));const l=Math.abs(e.length-r.length);n=Math.max(n-5*l,0)}return{score:n,level:c(n),feedback:m(t,i,n),suggestions:f(t,i)}},c=e=>e>=90?t:e>=70?n:e>=50?o:s,m=(e,r,i)=>{const t=c(i);l[t];return 100===i?{message:"Perfect pronunciation! \ud83c\udf89",tips:["Excellent work!","Keep practicing to maintain this level."],encouragement:"You're a natural!"}:i>=80?{message:"Great pronunciation! \ud83d\udc4d",tips:["Very close to perfect!","Try to focus on the subtle differences."],encouragement:"You're almost there!"}:i>=60?{message:"Good effort! \ud83d\udcdd",tips:["You're on the right track!","Listen to the native pronunciation again."],encouragement:"Keep practicing!"}:{message:"Keep practicing! \ud83d\udcaa",tips:["Try listening to the pronunciation again.","Break down the word into syllables."],encouragement:"Every attempt makes you better!"}},f=(e,r)=>{const i=[],t=a.find(e=>e.word.toLowerCase()===r.toLowerCase());return t&&(i.push(`Try: "${t.pronunciation}"`),i.push(...t.tips),t.common_mistakes.includes(e)&&i.push("This is a common mistake. Listen carefully to the correct pronunciation.")),i},g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",r=a;if("all"!==e&&(r=a.filter(r=>r.difficulty===e)),0===r.length)return null;return r[Math.floor(Math.random()*r.length)]},u=e=>{const r=e.pronunciation_attempts||0,i=e.excellent_pronunciations||0,t=e.good_pronunciations||0,n=e.fair_pronunciations||0,o=e.needs_improvement_pronunciations||0;return{totalAttempts:r,excellentCount:i,goodCount:t,fairCount:n,needsImprovementCount:o,averageScore:r>0?Math.round((95*i+80*t+60*n+25*o)/r):0,progress:r>0?Math.round((i+t)/r*100):0}}},917:(e,r,i)=>{i.r(r),i.d(r,{default:()=>a});var t=i(950),n=i(826),o=i(873),s=i(840),l=i(414);const a=t.memo(e=>{let{userStats:r,onPronunciationAttempt:i,isDarkMode:a}=e;const[d,c]=(0,t.useState)(!1),[m,f]=(0,t.useState)(null),[g,u]=(0,t.useState)(""),[y,p]=(0,t.useState)(null),[h,x]=(0,t.useState)(!1),[j,k]=(0,t.useState)("all"),[b,v]=(0,t.useState)(null),[S,w]=(0,t.useState)(!1),[_,z]=(0,t.useState)(null);(0,t.useRef)(null);(0,t.useEffect)(()=>{const e=window.SpeechRecognition||window.webkitSpeechRecognition;if(e){const r=new e;r.continuous=!1,r.interimResults=!1,r.lang="sv-SE",r.onstart=()=>{c(!0)},r.onresult=e=>{const r=e.results[0][0].transcript;if(u(r),m){const e=(0,o.cl)(r,m.word);p(e),x(!0),i&&i(e)}},r.onerror=e=>{console.error("Speech recognition error:",e.error),c(!1)},r.onend=()=>{c(!1)},v(r),w(!0)}else w(!1)},[m,i]),(0,t.useEffect)(()=>{const e=(0,o.d_)(j);f(e);const i=(0,o.lD)(r);z(i)},[j,r]);const G=(0,t.useCallback)(e=>{k(e);const r=(0,o.d_)(e);f(r),u(""),p(null),x(!1)},[]),F=(0,t.useCallback)(()=>{b&&m&&(u(""),p(null),x(!1),b.start())},[b,m]),C=(0,t.useCallback)(async()=>{if(m)try{await s.A.playSwedish(m.word)}catch(e){console.error("Failed to play pronunciation:",e)}},[m]),M=(0,t.useCallback)(()=>{const e=(0,o.d_)(j);f(e),u(""),p(null),x(!1)},[j]),R=a?"#f5f5f5":"#2c3e50",B=a?"#3d3d3d":"#ffffff",L=a?"#555555":"#e8f4f8",E="#3498db";return S?(0,l.jsxs)("div",{style:{padding:"1rem",maxWidth:"800px",margin:"0 auto",color:R},children:[(0,l.jsxs)("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[(0,l.jsx)("h1",{style:{fontSize:"2.5rem",margin:"0 0 0.5rem 0",fontFamily:'"Georgia", serif',color:E},children:"\ud83c\udfa4 Voice Recognition"}),(0,l.jsx)("p",{style:{fontSize:"1.1rem",margin:"0",opacity:.8,fontFamily:'"Georgia", serif'},children:"Practice your Swedish pronunciation with real-time feedback"})]}),_&&(0,l.jsxs)("div",{style:{background:B,border:`2px solid ${L}`,borderRadius:"20px",padding:"1.5rem",marginBottom:"2rem",textAlign:"center"},children:[(0,l.jsx)("h3",{style:{margin:"0 0 1rem 0",fontFamily:'"Georgia", serif',color:E},children:"Your Pronunciation Progress"}),(0,l.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem",marginBottom:"1rem"},children:[(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem"},children:[(0,l.jsx)("div",{style:{fontSize:"2rem"},children:"\ud83c\udfaf"}),(0,l.jsx)("div",{style:{fontFamily:'"Georgia", serif',fontSize:"1.2rem"},children:_.totalAttempts}),(0,l.jsx)("div",{style:{fontSize:"0.9rem",opacity:.7},children:"Total Attempts"})]}),(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem"},children:[(0,l.jsx)("div",{style:{fontSize:"2rem"},children:"\ud83c\udf1f"}),(0,l.jsx)("div",{style:{fontFamily:'"Georgia", serif',fontSize:"1.2rem"},children:_.excellentCount}),(0,l.jsx)("div",{style:{fontSize:"0.9rem",opacity:.7},children:"Excellent"})]}),(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem"},children:[(0,l.jsx)("div",{style:{fontSize:"2rem"},children:"\ud83d\udcca"}),(0,l.jsxs)("div",{style:{fontFamily:'"Georgia", serif',fontSize:"1.2rem"},children:[_.averageScore,"%"]}),(0,l.jsx)("div",{style:{fontSize:"0.9rem",opacity:.7},children:"Average Score"})]}),(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem"},children:[(0,l.jsx)("div",{style:{fontSize:"2rem"},children:"\ud83d\udcc8"}),(0,l.jsxs)("div",{style:{fontFamily:'"Georgia", serif',fontSize:"1.2rem"},children:[_.progress,"%"]}),(0,l.jsx)("div",{style:{fontSize:"0.9rem",opacity:.7},children:"Success Rate"})]})]})]}),(0,l.jsxs)("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[(0,l.jsx)("h3",{style:{margin:"0 0 1rem 0",fontFamily:'"Georgia", serif'},children:"Select Difficulty"}),(0,l.jsx)("div",{style:{display:"flex",justifyContent:"center",gap:"1rem",flexWrap:"wrap"},children:["all","easy","medium","hard"].map(e=>(0,l.jsx)("button",{onClick:()=>G(e),style:{background:j===e?E:B,color:j===e?"#fff":R,border:`2px solid ${j===e?E:L}`,borderRadius:"25px",padding:"0.8rem 1.5rem",cursor:"pointer",transition:"all 0.3s ease",fontFamily:'"Georgia", serif',fontSize:"0.9rem",textTransform:"capitalize"},onMouseEnter:r=>{j!==e&&(r.target.style.background=a?"#4d4d4d":"#f0f0f0")},onMouseLeave:r=>{j!==e&&(r.target.style.background=B)},children:e},e))})]}),m&&(0,l.jsxs)("div",{style:{background:B,border:`2px solid ${L}`,borderRadius:"20px",padding:"2rem",marginBottom:"2rem",textAlign:"center"},children:[(0,l.jsx)("h2",{style:{margin:"0 0 0.5rem 0",fontSize:"2.5rem",fontFamily:'"Georgia", serif',color:E},children:m.word}),(0,l.jsx)("p",{style:{margin:"0 0 1rem 0",fontSize:"1.1rem",opacity:.7,fontFamily:'"Georgia", serif'},children:m.english}),(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:"1rem",marginBottom:"1rem"},children:[(0,l.jsxs)("button",{onClick:C,style:{background:E,color:"#fff",border:"none",borderRadius:"25px",padding:"0.8rem 1.5rem",cursor:"pointer",transition:"all 0.3s ease",fontFamily:'"Georgia", serif',fontSize:"0.9rem",display:"flex",alignItems:"center",gap:"0.5rem"},onMouseEnter:e=>{e.target.style.transform="scale(1.05)"},onMouseLeave:e=>{e.target.style.transform="scale(1)"},children:[(0,l.jsx)(n.pPd,{}),"Listen"]}),(0,l.jsxs)("button",{onClick:F,disabled:d,style:{background:d?"#e74c3c":"#27ae60",color:"#fff",border:"none",borderRadius:"25px",padding:"0.8rem 1.5rem",cursor:d?"not-allowed":"pointer",transition:"all 0.3s ease",fontFamily:'"Georgia", serif',fontSize:"0.9rem",display:"flex",alignItems:"center",gap:"0.5rem",opacity:d?.7:1},onMouseEnter:e=>{d||(e.target.style.transform="scale(1.05)")},onMouseLeave:e=>{e.target.style.transform="scale(1)"},children:[d?(0,l.jsx)(n.$j$,{}):(0,l.jsx)(n.i0t,{}),d?"Listening...":"Speak"]})]}),(0,l.jsxs)("div",{style:{background:a?"#2d2d2d":"#f8f9fa",borderRadius:"15px",padding:"1rem",marginTop:"1rem"},children:[(0,l.jsx)("h4",{style:{margin:"0 0 0.5rem 0",fontFamily:'"Georgia", serif',color:E},children:"Pronunciation Guide"}),(0,l.jsxs)("p",{style:{margin:"0 0 0.5rem 0",fontFamily:'"Georgia", serif',fontSize:"1.1rem"},children:[(0,l.jsx)("strong",{children:"Try:"}),' "',m.pronunciation,'"']}),(0,l.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"0.3rem",fontSize:"0.9rem",opacity:.8,fontFamily:'"Georgia", serif'},children:m.tips.map((e,r)=>(0,l.jsxs)("div",{children:["\u2022 ",e]},r))})]})]}),h&&y&&(0,l.jsxs)("div",{style:{background:B,border:`3px solid ${o.qM[y.level].color}`,borderRadius:"20px",padding:"2rem",marginBottom:"2rem",textAlign:"center",animation:"resultSlideIn 0.5s ease-out"},children:[(0,l.jsx)("div",{style:{fontSize:"4rem",marginBottom:"1rem",animation:"resultBounce 0.6s ease-out"},children:o.qM[y.level].emoji}),(0,l.jsx)("h3",{style:{margin:"0 0 0.5rem 0",fontSize:"1.5rem",fontFamily:'"Georgia", serif',color:o.qM[y.level].color},children:y.feedback.message}),(0,l.jsxs)("div",{style:{background:o.qM[y.level].color,color:"#fff",borderRadius:"15px",padding:"0.5rem 1rem",display:"inline-block",marginBottom:"1rem",fontFamily:'"Georgia", serif',fontSize:"1.2rem"},children:["Score: ",y.score,"%"]}),(0,l.jsxs)("div",{style:{marginBottom:"1rem",fontFamily:'"Georgia", serif'},children:[(0,l.jsxs)("p",{style:{margin:"0 0 0.5rem 0",fontWeight:"bold"},children:['You said: "',g,'"']}),(0,l.jsxs)("p",{style:{margin:"0",opacity:.7},children:['Target: "',m.word,'"']})]}),(0,l.jsxs)("div",{style:{background:a?"#2d2d2d":"#f8f9fa",borderRadius:"15px",padding:"1rem",marginBottom:"1rem"},children:[(0,l.jsx)("h4",{style:{margin:"0 0 0.5rem 0",fontFamily:'"Georgia", serif',color:E},children:"Tips for Improvement"}),(0,l.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"0.3rem",fontSize:"0.9rem",fontFamily:'"Georgia", serif'},children:y.feedback.tips.map((e,r)=>(0,l.jsxs)("div",{children:["\u2022 ",e]},r))})]}),y.suggestions.length>0&&(0,l.jsxs)("div",{style:{background:a?"#2d2d2d":"#f8f9fa",borderRadius:"15px",padding:"1rem",marginBottom:"1rem"},children:[(0,l.jsx)("h4",{style:{margin:"0 0 0.5rem 0",fontFamily:'"Georgia", serif',color:E},children:"Suggestions"}),(0,l.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"0.3rem",fontSize:"0.9rem",fontFamily:'"Georgia", serif'},children:y.suggestions.map((e,r)=>(0,l.jsxs)("div",{children:["\u2022 ",e]},r))})]}),(0,l.jsx)("button",{onClick:M,style:{background:E,color:"#fff",border:"none",borderRadius:"25px",padding:"1rem 2rem",cursor:"pointer",transition:"all 0.3s ease",fontFamily:'"Georgia", serif',fontSize:"1rem"},onMouseEnter:e=>{e.target.style.transform="scale(1.05)"},onMouseLeave:e=>{e.target.style.transform="scale(1)"},children:"Next Word"})]}),(0,l.jsx)("style",{children:"\n          @keyframes resultSlideIn {\n            0% { transform: translateY(20px); opacity: 0; }\n            100% { transform: translateY(0); opacity: 1; }\n          }\n          \n          @keyframes resultBounce {\n            0% { transform: scale(0) rotate(-180deg); }\n            50% { transform: scale(1.2) rotate(0deg); }\n            100% { transform: scale(1) rotate(0deg); }\n          }\n        "})]}):(0,l.jsxs)("div",{style:{padding:"2rem",textAlign:"center",color:R},children:[(0,l.jsx)("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:"\ud83c\udfa4"}),(0,l.jsx)("h2",{style:{margin:"0 0 1rem 0",fontFamily:'"Georgia", serif'},children:"Voice Recognition Not Supported"}),(0,l.jsx)("p",{style:{margin:"0",fontFamily:'"Georgia", serif',opacity:.8},children:"Your browser doesn't support speech recognition. Try using Chrome or Edge."})]})})}}]);