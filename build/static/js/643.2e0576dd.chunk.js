"use strict";(self.webpackChunkflodhasten=self.webpackChunkflodhasten||[]).push([[643],{643:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});var s=i(950),o=i(414);const n=function(e){let{words:t,onWordStatUpdate:i,onLessonComplete:n,isDarkMode:l}=e;const r=(0,s.useMemo)(()=>{const e=(t||[]).filter(e=>1===e.difficulty);return(e.length?e:[{swedish:"hus",english:"house",difficulty:1},{swedish:"stor",english:"big",difficulty:1},{swedish:"liten",english:"small",difficulty:1},{swedish:"glad",english:"happy",difficulty:1},{swedish:"ledsen",english:"sad",difficulty:1},{swedish:"ost",english:"cheese",difficulty:1},{swedish:"br\xf6d",english:"bread",difficulty:1},{swedish:"f\xe5gel",english:"bird",difficulty:1},{swedish:"fisk",english:"fish",difficulty:1},{swedish:"mamma",english:"mom",difficulty:1},{swedish:"pappa",english:"dad",difficulty:1}]).slice(0,20)},[t]),d=26,a=Math.floor(10),c=Math.floor(360/d),[h,f]=(0,s.useState)("ready"),[u,g]=(0,s.useState)(0),[p,m]=(0,s.useState)(1),[w,x]=(0,s.useState)([]),[y,b]=(0,s.useState)(null),[k,v]=(0,s.useState)(700),j=(0,s.useRef)(null),M=l?"#2d2d2d":"#e1f5fe",S=l?"#64b5f6":"#0288d1",C=l?"#555555":"transparent",R=(0,s.useCallback)(()=>[...r].sort(()=>Math.random()-.5).slice(0,Math.min(a,r.length)).map((e,t)=>({col:t,text:t%2===0?e.english:e.swedish,swedish:e.swedish,english:e.english})),[r,a]),A=(0,s.useCallback)(()=>{const e=r[Math.floor(Math.random()*r.length)],t=Math.random()<.5,i=t?e.swedish:e.english,s=t?e.english:e.swedish;b({col:Math.floor(a/2),row:0,text:i,isSwedish:t,match:s})},[r,a]);return(0,s.useEffect)(()=>{if("playing"===h)return j.current=setInterval(()=>{b(e=>{if(!e)return e;const t=e.row+1;if(t>=c-1){const i=w.find(t=>t.col===e.col);return i&&i.text.toLowerCase()===e.match.toLowerCase()?(g(e=>e+10),x(t=>t.map(t=>t.col===e.col?{...t,text:Math.random()<.5?i.english:i.swedish}:t)),A()):f("over"),{...e,row:t}}return{...e,row:t}})},k),()=>{j.current&&clearInterval(j.current)}},[h,c,w,k,A]),(0,s.useEffect)(()=>{const e=e=>{"playing"===h&&("ArrowLeft"===e.code&&b(e=>e?{...e,col:Math.max(0,e.col-1)}:e),"ArrowRight"===e.code&&b(e=>e?{...e,col:Math.min(a-1,e.col+1)}:e),"ArrowDown"===e.code&&b(e=>e?{...e,row:Math.min(c-1,e.row+1)}:e))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[h,a,c]),(0,s.useEffect)(()=>{u&&u%50===0&&(m(e=>e+1),v(e=>Math.max(300,e-60)))},[u]),(0,o.jsxs)("div",{style:{maxWidth:320,margin:"2rem auto",background:M,padding:"1rem",borderRadius:16,boxShadow:l?"0 2px 8px rgba(0,0,0,0.3)":"0 2px 8px #81d4fa",border:`1px solid ${C}`,textAlign:"center"},children:[(0,o.jsx)("h2",{style:{color:S,margin:0,marginBottom:8},children:"Ordfall"}),(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8,fontSize:"0.9rem",color:l?"#ccc":"#666"},children:[(0,o.jsxs)("span",{children:["Po\xe4ng: ",(0,o.jsx)("strong",{children:u})]}),(0,o.jsxs)("span",{children:["Niv\xe5: ",(0,o.jsx)("strong",{children:p})]})]}),"ready"===h&&(0,o.jsx)("button",{onClick:()=>{g(0),m(1),x(R()),v(700),A(),f("playing")},style:{background:"#e53935",color:"#fff",border:"none",borderRadius:8,padding:"0.6rem 1rem",fontWeight:"bold",cursor:"pointer",marginBottom:8},children:"Starta"}),(0,o.jsxs)("div",{style:{width:260,height:420,margin:"0 auto",border:`2px solid ${C}`,borderRadius:8,background:l?"#111":"#f8f9fa",position:"relative",overflow:"hidden"},children:[(0,o.jsx)("div",{style:{position:"absolute",left:0,right:0,top:0,height:60,display:"flex",alignItems:"center",justifyContent:"center",gap:6,color:l?"#ddd":"#333",fontWeight:"bold"},children:"Matcha blocket med m\xe5let l\xe4ngst ned i kolumnen"}),w.map(e=>(0,o.jsx)("div",{style:{position:"absolute",left:e.col*d+2,top:392,width:22,height:22,background:"#1976d2",color:"#fff",border:"2px solid #0d47a1",borderRadius:4,display:"flex",alignItems:"center",justifyContent:"center",fontSize:10,padding:"0 2px",textAlign:"center"},children:e.text},e.col)),y&&(0,o.jsx)("div",{style:{position:"absolute",left:y.col*d+2,top:60+y.row*d+2,width:22,height:22,background:"#8e24aa",color:"#fff",border:"2px solid #4a148c",borderRadius:4,display:"flex",alignItems:"center",justifyContent:"center",fontSize:10,padding:"0 2px",textAlign:"center"},children:y.text})]}),"over"===h&&(0,o.jsx)("div",{style:{marginTop:10,color:"#e74c3c",fontWeight:"bold"},children:"Fel matchning! F\xf6rs\xf6k igen."})]})}}}]);