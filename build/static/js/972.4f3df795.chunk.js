"use strict";(self.webpackChunkflodhasten=self.webpackChunkflodhasten||[]).push([[972],{972:(e,t,o)=>{o.r(t),o.d(t,{default:()=>s});var n=o(950),i=o(414);const s=function(e){let{onComplete:t,isDarkMode:o}=e;const[s,a]=(0,n.useState)(!1),[r,l]=(0,n.useState)(!0),[c,d]=(0,n.useState)(null),[f,p]=(0,n.useState)(!1),[u,x]=(0,n.useState)(!1),h=(0,n.useRef)(null);(0,n.useEffect)(()=>{(async()=>{try{const e=await fetch("/flodhasten/intro-video.mp4",{method:"HEAD"});if(!e.ok)return console.error("Video file not accessible:",e.status,e.statusText),d("Video file not accessible"),void setTimeout(()=>y(),2e3);console.log("Video file is accessible")}catch(o){return console.error("Error testing video:",o),d("Network error"),void setTimeout(()=>y(),2e3)}const e=setTimeout(()=>{h.current&&h.current.paused&&(a(!0),x(!0),l(!1))},2e3),t=setTimeout(()=>{h.current&&h.current.paused&&y()},5e3)})()},[]);const y=()=>{console.log("Starting outro transition"),p(!0),setTimeout(()=>{console.log("Outro complete, calling onComplete"),t()},1500)};return c?(0,i.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"#000000",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,flexDirection:"column",opacity:f?0:1,transition:"opacity 1.5s ease-in-out"},children:(0,i.jsxs)("div",{style:{color:"#ffffff",fontSize:"18px",fontFamily:'"Georgia", serif',textAlign:"center"},children:[c,(0,i.jsx)("br",{}),(0,i.jsx)("small",{children:"Continuing to app..."})]})}):(0,i.jsxs)("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"#000000",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,flexDirection:"column",opacity:f?0:1,transform:f?"scale(1.1)":"scale(1)",transition:"all 1.5s cubic-bezier(0.4, 0, 0.2, 1)"},onClick:async()=>{if(h.current&&h.current.paused)try{const e=h.current.play();e&&(await Promise.race([e,new Promise((e,t)=>setTimeout(()=>t(new Error("timeout")),500))]),x(!1))}catch{y()}else u&&y()},children:[(0,i.jsxs)("div",{style:{position:"relative",maxWidth:"90vw",maxHeight:"80vh",borderRadius:"20px",overflow:"hidden",boxShadow:"0 20px 60px rgba(0,0,0,0.5)",transform:f?"scale(0.9)":"scale(1)",transition:"transform 1.5s cubic-bezier(0.4, 0, 0.2, 1)"},children:[(0,i.jsxs)("video",{ref:h,style:{width:"100%",height:"100%",objectFit:"contain"},onPlay:()=>{console.log("Video started playing"),l(!1),a(!0)},onEnded:()=>{console.log("Video ended"),y()},onError:e=>{console.error("Video error:",e),d("Video failed to load"),setTimeout(()=>y(),2e3)},onLoadStart:()=>{console.log("Video load started")},onCanPlay:()=>{console.log("Video can play")},onLoadedData:()=>{console.log("Video data loaded")},controls:!1,autoPlay:!0,muted:!0,playsInline:!0,preload:"auto",children:[(0,i.jsx)("source",{src:"/flodhasten/intro-video.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]}),s&&!f&&(0,i.jsx)("button",{onClick:()=>{console.log("Video skipped"),h.current&&h.current.pause(),y()},style:{position:"absolute",top:"20px",right:"20px",background:"rgba(0,0,0,0.7)",color:"#fff",border:"none",borderRadius:"25px",padding:"10px 20px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",transition:"all 0.3s ease",zIndex:10},onMouseEnter:e=>{e.target.style.background="rgba(52, 152, 219, 0.8)"},onMouseLeave:e=>{e.target.style.background="rgba(0,0,0,0.7)"},children:"Skip Intro"})]}),r&&!f&&(0,i.jsx)("div",{style:{marginTop:"20px",color:"#ffffff",fontSize:"18px",fontFamily:'"Georgia", serif',textAlign:"center",opacity:f?0:1,transform:f?"translateY(20px)":"translateY(0)",transition:"all 0.8s ease-out"},children:"Loading Flodh\xe4sten Intro..."}),u&&!f&&(0,i.jsx)("div",{style:{marginTop:"20px",color:"#fff",fontSize:"16px",fontFamily:'"Georgia", serif',textAlign:"center",opacity:f?0:1,transition:"opacity 0.5s"},children:"Tap anywhere to start or skip the intro."}),f&&(0,i.jsx)("div",{style:{position:"absolute",bottom:"20%",left:"50%",transform:"translateX(-50%)",color:"#ffffff",fontSize:"24px",fontFamily:'"Georgia", serif',textAlign:"center",opacity:f?1:0,animation:"fadeInUp 1s ease-out"},children:"Welcome to Flodh\xe4sten"}),(0,i.jsx)("div",{style:{position:"absolute",bottom:"20px",left:"20px",color:"#ffffff",fontSize:"12px",opacity:.7,opacity:f?0:.7,transition:"opacity 0.5s ease"},children:"Video Path: /flodhasten/intro-video.mp4"}),(0,i.jsx)("div",{style:{position:"absolute",top:"50px",left:"50px",width:"60px",height:"60px",background:"#3498db",borderRadius:"50%",opacity:f?0:.3,animation:"float 3s ease-in-out infinite",transition:"opacity 0.8s ease"}}),(0,i.jsx)("div",{style:{position:"absolute",bottom:"50px",right:"50px",width:"40px",height:"40px",background:"#27ae60",borderRadius:"50%",opacity:f?0:.3,animation:"float 4s ease-in-out infinite 1s",transition:"opacity 0.8s ease"}}),(0,i.jsx)("style",{children:"\n          @keyframes float {\n            0%, 100% { transform: translateY(0px) rotate(0deg); }\n            50% { transform: translateY(-20px) rotate(5deg); }\n          }\n          \n          @keyframes fadeInUp {\n            0% { \n              opacity: 0; \n              transform: translateX(-50%) translateY(30px); \n            }\n            100% { \n              opacity: 1; \n              transform: translateX(-50%) translateY(0); \n            }\n          }\n        "})]})}}}]);