"use strict";(self.webpackChunkflodhasten=self.webpackChunkflodhasten||[]).push([[484],{484:(t,e,r)=>{r.r(e),r.d(e,{default:()=>i});var s=r(950),a=r(826),o=r(222),n=r(840),l=r(414);const i=s.memo(t=>{let{words:e,skillWords:r,onDelete:i,onEdit:d,onImportWords:c,onAdd:g,isDarkMode:p}=t;const[x,h]=(0,s.useState)(null),[b,u]=(0,s.useState)(""),[f,m]=(0,s.useState)(""),[y,w]=(0,s.useState)(""),[S,j]=(0,s.useState)(null),[v,k]=(0,s.useState)(!1),[Y,M]=(0,s.useState)(!1),[C,W]=(0,s.useState)(""),[R,T]=(0,s.useState)(""),[A,E]=(0,s.useState)(""),B=(0,s.useCallback)((t,e)=>{const r=[];if("csv"===e){const e=t.split(/\r?\n/).filter(Boolean),s=e[0].toLowerCase(),a=s.includes("english")&&s.includes("swedish");for(let t=1;t<e.length;t++){const s=e[t].split(",");if(a){const[t,e]=s;t&&e?r.push({swedish:t.trim(),english:e.trim(),stats:{correct:0,incorrect:0,lastPracticed:null}}):t&&r.push({swedish:t.trim(),english:"(unknown)",stats:{correct:0,incorrect:0,lastPracticed:null}})}else{const t=s[0];t&&r.push({swedish:t.trim(),english:"(unknown)",stats:{correct:0,incorrect:0,lastPracticed:null}})}}}else{const e=t.split(/\r?\n/).filter(Boolean);for(const t of e)if(t.includes(" - ")){const[e,s]=t.split(" - ");e&&s?r.push({swedish:e.trim(),english:s.trim(),stats:{correct:0,incorrect:0,lastPracticed:null}}):e&&r.push({swedish:e.trim(),english:"(unknown)",stats:{correct:0,incorrect:0,lastPracticed:null}})}else{const e=t.trim();e&&r.push({swedish:e,english:"(unknown)",stats:{correct:0,incorrect:0,lastPracticed:null}})}}return r},[]);function L(){d(x,{swedish:b,english:f}),h(null)}function z(){h(null)}return(0,l.jsxs)("div",{style:{maxWidth:400,margin:"2rem auto",background:"#fffde7",padding:"1.5rem",borderRadius:16,boxShadow:"0 2px 8px #ffe082"},children:[(0,l.jsxs)("h2",{style:{color:"#fbc02d"},children:[(0,l.jsx)(a.hko,{style:{verticalAlign:"middle",marginRight:6}}),"Saved Words"]}),(0,l.jsxs)("div",{style:{marginBottom:"1.5rem",padding:"1rem",background:"#e0f7fa",borderRadius:12,border:"2px solid #b2ebf2"},children:[(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem"},children:[(0,l.jsxs)("h3",{style:{color:"#2193b0",margin:0},children:[(0,l.jsx)(o.dZJ,{style:{verticalAlign:"middle",marginRight:6}}),"Add New Word"]}),(0,l.jsx)("button",{onClick:()=>M(!Y),style:{background:"#2193b0",color:"#fff",border:"none",borderRadius:8,padding:"0.5rem 1rem",cursor:"pointer",fontWeight:"bold",fontSize:14,transition:"all 0.2s ease",transform:"translateY(0)",boxShadow:"0 2px 6px rgba(0,0,0,0.1)"},onMouseEnter:t=>{t.target.style.transform="translateY(-2px)",t.target.style.boxShadow="0 4px 12px rgba(33, 147, 176, 0.3)"},onMouseLeave:t=>{t.target.style.transform="translateY(0)",t.target.style.boxShadow="0 2px 6px rgba(0,0,0,0.1)"},children:Y?"Cancel":"Add Word"})]}),Y&&(0,l.jsxs)("form",{onSubmit:t=>{t.preventDefault(),C.trim()&&R.trim()?(g({swedish:C.trim(),english:R.trim()}),W(""),T(""),E("Word added!"),setTimeout(()=>E(""),1200)):E("Please enter both words.")},style:{marginTop:"1rem"},children:[(0,l.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,l.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",color:"#2193b0",fontWeight:"bold"},children:"Swedish"}),(0,l.jsx)("input",{value:C,onChange:t=>W(t.target.value),style:{width:"100%",padding:8,borderRadius:8,border:"1px solid #b2ebf2",fontSize:14},placeholder:"Enter Swedish word..."})]}),(0,l.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,l.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",color:"#2193b0",fontWeight:"bold"},children:"English"}),(0,l.jsx)("input",{value:R,onChange:t=>T(t.target.value),style:{width:"100%",padding:8,borderRadius:8,border:"1px solid #b2ebf2",fontSize:14},placeholder:"Enter English translation..."})]}),(0,l.jsx)("button",{type:"submit",style:{width:"100%",background:"#2193b0",color:"#fff",border:"none",borderRadius:8,padding:10,fontWeight:"bold",fontSize:16,cursor:"pointer",transition:"all 0.2s ease",transform:"translateY(0)",boxShadow:"0 2px 6px rgba(0,0,0,0.1)"},onMouseEnter:t=>{t.target.style.transform="translateY(-2px)",t.target.style.boxShadow="0 4px 12px rgba(33, 147, 176, 0.3)"},onMouseLeave:t=>{t.target.style.transform="translateY(0)",t.target.style.boxShadow="0 2px 6px rgba(0,0,0,0.1)"},onMouseDown:t=>{t.target.style.transform="translateY(0)",t.target.style.boxShadow="0 2px 4px rgba(0,0,0,0.2)"},onMouseUp:t=>{t.target.style.transform="translateY(-2px)",t.target.style.boxShadow="0 4px 12px rgba(33, 147, 176, 0.3)"},children:"Add Word"}),A&&(0,l.jsx)("div",{style:{color:"#388e3c",marginTop:10,textAlign:"center",fontWeight:"bold"},children:A})]})]}),(0,l.jsxs)("div",{style:{marginBottom:12},children:[(0,l.jsx)("input",{type:"file",accept:".csv,.txt",onChange:function(t){const e=t.target.files[0];if(!e)return;const r=e.name.split(".").pop().toLowerCase();if("csv"!==r&&"txt"!==r)return void w("Please upload a .csv or .txt file.");const s=new FileReader;s.onload=t=>{const e=t.target.result,s=B(e,r);0===s.length?w("No valid words found in file."):(w(`Imported ${s.length} words!`),c&&c(s))},s.readAsText(e)},style:{marginBottom:4}}),(0,l.jsx)("div",{style:{fontSize:12,color:"#888"},children:"Import .csv (Swedish,English) or .txt (Swedish - English)"}),(0,l.jsxs)("button",{type:"button",onClick:async function(){k(!0),w("");const t=[],r=[];for(let a=0;a<e.length;a++)"(unknown)"===e[a].english&&(t.push(a),r.push(e[a].swedish));if(0===r.length)return k(!1),void w("No unknowns to translate.");try{const e=await fetch("http://localhost:4000/api/translate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({swedishArray:r})}),s=await e.json();if(s.translations&&s.translations.length===r.length){for(let e=0;e<t.length;e++)d(t[e],{swedish:r[e],english:s.translations[e]});w("Batch translation complete!")}else w("Batch translation failed.")}catch(s){w("Batch translation error.")}j(null),k(!1)},disabled:v,style:{marginTop:6,marginBottom:4,background:"#2193b0",color:"#fff",border:"none",borderRadius:8,padding:"0.4rem 1.1rem",fontWeight:"bold",fontSize:14,cursor:v?"not-allowed":"pointer",transition:"all 0.2s ease",transform:"translateY(0)",boxShadow:"0 2px 6px rgba(0,0,0,0.1)"},onMouseEnter:t=>{v||(t.target.style.transform="translateY(-2px)",t.target.style.boxShadow="0 4px 12px rgba(33, 147, 176, 0.3)")},onMouseLeave:t=>{t.target.style.transform="translateY(0)",t.target.style.boxShadow="0 2px 6px rgba(0,0,0,0.1)"},onMouseDown:t=>{v||(t.target.style.transform="translateY(0)",t.target.style.boxShadow="0 2px 4px rgba(0,0,0,0.2)")},onMouseUp:t=>{v||(t.target.style.transform="translateY(-2px)",t.target.style.boxShadow="0 4px 12px rgba(33, 147, 176, 0.3)")},children:[v?(0,l.jsx)(a.hW,{className:"spin",style:{fontSize:16,marginRight:6}}):null,"Translate All Unknown"]}),y&&(0,l.jsx)("div",{style:{fontSize:13,color:"#388e3c",marginTop:2},children:y})]}),0===e.length?(0,l.jsx)("div",{style:{color:"#aaa",textAlign:"center"},children:"No words yet. Add some!"}):(0,l.jsx)("ul",{style:{listStyle:"none",padding:0},children:e.map((t,s)=>{var c,g,p;const y=s<r.length;return(0,l.jsxs)("li",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",margin:"0.7rem 0",background:y?"#e8f5e8":"#fffde7",borderRadius:8,padding:"0.5rem 0.7rem",border:y?"1px solid #4caf50":"1px solid #ffeb3b"},children:[x===s?(0,l.jsxs)("span",{style:{flex:1,display:"flex",gap:6},children:[(0,l.jsx)("input",{value:b,onChange:t=>u(t.target.value),style:{width:70,borderRadius:6,border:"1px solid #b2ebf2",padding:3}}),(0,l.jsx)("span",{style:{color:"#888"},children:"\u2013"}),(0,l.jsx)("input",{value:f,onChange:t=>m(t.target.value),style:{width:70,borderRadius:6,border:"1px solid #b2ebf2",padding:3}})]}):(0,l.jsxs)("span",{children:[(0,l.jsx)("b",{style:{color:"#2193b0"},children:t.swedish}),(0,l.jsx)("button",{type:"button","aria-label":`Play ${t.swedish}`,onClick:()=>async function(t){try{await n.A.playSwedish(t)}catch(e){console.error("TTS failed:",e.message)}}(t.swedish),style:{background:"none",border:"none",color:"#2193b0",cursor:"pointer",fontSize:20,verticalAlign:"middle",marginLeft:4},children:(0,l.jsx)(o.guq,{})}),(0,l.jsx)("span",{style:{color:"#888"},children:"\u2013"})," ",(0,l.jsx)("span",{style:{color:"#333"},children:t.english}),y&&(0,l.jsx)("span",{style:{background:"#4caf50",color:"#fff",padding:"0.2rem 0.5rem",borderRadius:"12px",fontSize:"0.7rem",marginLeft:"0.5rem",fontWeight:"bold"},children:"Skill"}),"(unknown)"===t.english&&(0,l.jsx)("button",{type:"button",onClick:()=>async function(t,e){j(t);try{const r=await fetch("http://localhost:4000/api/translate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({swedishArray:[e]})}),s=await r.json();s.translations&&s.translations[0]?d(t,{swedish:e,english:s.translations[0]}):w("Translation failed.")}catch(r){w("Translation error.")}j(null)}(s,t.swedish),disabled:S===s,style:{marginLeft:8,background:"#2193b0",color:"#fff",border:"none",borderRadius:8,padding:"0.2rem 0.7rem",fontSize:13,cursor:"pointer",verticalAlign:"middle",transition:"all 0.2s ease",transform:"translateY(0)",boxShadow:"0 2px 6px rgba(0,0,0,0.1)"},onMouseEnter:t=>{S!==s&&(t.target.style.transform="translateY(-2px)",t.target.style.boxShadow="0 4px 12px rgba(33, 147, 176, 0.3)")},onMouseLeave:t=>{t.target.style.transform="translateY(0)",t.target.style.boxShadow="0 2px 6px rgba(0,0,0,0.1)"},onMouseDown:t=>{S!==s&&(t.target.style.transform="translateY(0)",t.target.style.boxShadow="0 2px 4px rgba(0,0,0,0.2)")},onMouseUp:t=>{S!==s&&(t.target.style.transform="translateY(-2px)",t.target.style.boxShadow="0 4px 12px rgba(33, 147, 176, 0.3)")},children:S===s?(0,l.jsx)(a.hW,{className:"spin",style:{fontSize:16}}):"Translate"}),(0,l.jsxs)("div",{style:{fontSize:12,color:"#888",marginTop:2},children:[(0,l.jsxs)("span",{children:["\u2714\ufe0f ",(null===(c=t.stats)||void 0===c?void 0:c.correct)||0," "]}),(0,l.jsxs)("span",{children:["\u274c ",(null===(g=t.stats)||void 0===g?void 0:g.incorrect)||0," "]}),(0,l.jsxs)("span",{children:["\ud83d\udd52 ",null!==(p=t.stats)&&void 0!==p&&p.lastPracticed?new Date(t.stats.lastPracticed).toLocaleDateString():"Never"]})]})]}),x===s?(0,l.jsxs)("span",{style:{display:"flex",gap:4},children:[(0,l.jsx)("button",{onClick:L,style:{background:"#388e3c",color:"#fff",border:"none",borderRadius:8,padding:"0.3rem 0.7rem",cursor:"pointer",fontWeight:"bold",transition:"all 0.2s ease",transform:"translateY(0)",boxShadow:"0 2px 6px rgba(0,0,0,0.1)"},onMouseEnter:t=>{t.target.style.transform="translateY(-2px)",t.target.style.boxShadow="0 4px 12px rgba(56, 142, 60, 0.3)"},onMouseLeave:t=>{t.target.style.transform="translateY(0)",t.target.style.boxShadow="0 2px 6px rgba(0,0,0,0.1)"},onMouseDown:t=>{t.target.style.transform="translateY(0)",t.target.style.boxShadow="0 2px 4px rgba(0,0,0,0.2)"},onMouseUp:t=>{t.target.style.transform="translateY(-2px)",t.target.style.boxShadow="0 4px 12px rgba(56, 142, 60, 0.3)"},children:"Save"}),(0,l.jsx)("button",{onClick:z,style:{background:"#f44336",color:"#fff",border:"none",borderRadius:8,padding:"0.3rem 0.7rem",cursor:"pointer",fontWeight:"bold",transition:"all 0.2s ease",transform:"translateY(0)",boxShadow:"0 2px 6px rgba(0,0,0,0.1)"},onMouseEnter:t=>{t.target.style.transform="translateY(-2px)",t.target.style.boxShadow="0 4px 12px rgba(244, 67, 54, 0.3)"},onMouseLeave:t=>{t.target.style.transform="translateY(0)",t.target.style.boxShadow="0 2px 6px rgba(0,0,0,0.1)"},onMouseDown:t=>{t.target.style.transform="translateY(0)",t.target.style.boxShadow="0 2px 4px rgba(0,0,0,0.2)"},onMouseUp:t=>{t.target.style.transform="translateY(-2px)",t.target.style.boxShadow="0 4px 12px rgba(244, 67, 54, 0.3)"},children:"Cancel"})]}):(0,l.jsx)("span",{style:{display:"flex",gap:4},children:!y&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{onClick:()=>function(t){h(t),u(e[t].swedish),m(e[t].english)}(s),style:{background:"#2193b0",color:"#fff",border:"none",borderRadius:8,padding:"0.3rem 0.7rem",cursor:"pointer",fontWeight:"bold",transition:"all 0.2s ease",transform:"translateY(0)",boxShadow:"0 2px 6px rgba(0,0,0,0.1)"},onMouseEnter:t=>{t.target.style.transform="translateY(-2px)",t.target.style.boxShadow="0 4px 12px rgba(33, 147, 176, 0.3)"},onMouseLeave:t=>{t.target.style.transform="translateY(0)",t.target.style.boxShadow="0 2px 6px rgba(0,0,0,0.1)"},onMouseDown:t=>{t.target.style.transform="translateY(0)",t.target.style.boxShadow="0 2px 4px rgba(0,0,0,0.2)"},onMouseUp:t=>{t.target.style.transform="translateY(-2px)",t.target.style.boxShadow="0 4px 12px rgba(33, 147, 176, 0.3)"},children:(0,l.jsx)(a.uO9,{})}),(0,l.jsx)("button",{onClick:()=>i(s),style:{background:"#f44336",color:"#fff",border:"none",borderRadius:8,padding:"0.3rem 0.7rem",cursor:"pointer",fontWeight:"bold",transition:"all 0.2s ease",transform:"translateY(0)",boxShadow:"0 2px 6px rgba(0,0,0,0.1)"},onMouseEnter:t=>{t.target.style.transform="translateY(-2px)",t.target.style.boxShadow="0 4px 12px rgba(244, 67, 54, 0.3)"},onMouseLeave:t=>{t.target.style.transform="translateY(0)",t.target.style.boxShadow="0 2px 6px rgba(0,0,0,0.1)"},onMouseDown:t=>{t.target.style.transform="translateY(0)",t.target.style.boxShadow="0 2px 4px rgba(0,0,0,0.2)"},onMouseUp:t=>{t.target.style.transform="translateY(-2px)",t.target.style.boxShadow="0 4px 12px rgba(244, 67, 54, 0.3)"},children:(0,l.jsx)(a.qbC,{})})]})})]},s)})})]})})}}]);