.lesson-view{bottom:0;flex-direction:column;height:100vh;left:0;max-height:100vh;overflow:hidden;position:fixed;right:0;top:0;z-index:1000}.lesson-header,.lesson-view{background:#0e1117;color:#fff;display:flex}.lesson-header{align-items:center;box-shadow:0 2px 10px #0000001a;justify-content:space-between;padding:1rem 2rem}.exit-button{background:none;border:none;border-radius:50%;color:#fff;cursor:pointer;font-size:1.5rem;padding:.5rem;transition:background-color .3s ease}.exit-button:hover{background:#ffffff1a}.lesson-info h2{font-size:1.5rem;margin:0}.lesson-info p{font-size:.9rem;margin:.25rem 0 0;opacity:.9}.lesson-progress{align-items:center;display:flex;flex-direction:column;gap:.5rem}.progress-bar{background:#2e2f38;border-radius:6px;height:12px;overflow:hidden;position:relative;width:260px}.progress-fill{background:linear-gradient(90deg,#88ff4d,#b2f35d);height:100%;transition:width .35s cubic-bezier(.22,1,.36,1)}.progress-bar:after{animation:shine 2.2s ease-in-out infinite;background:linear-gradient(90deg,#0000,#ffffff1a,#0000);bottom:0;content:"";left:-40%;position:absolute;top:0;width:40%}@keyframes shine{0%{left:-40%}60%{left:100%}to{left:100%}}.lesson-stats{background:var(--secondary-background);border-bottom:1px solid var(--border-color);display:flex;justify-content:space-between;padding:.5rem 2rem;position:relative;z-index:5}.stat{align-items:center;display:flex;font-size:.9rem;gap:.5rem}.stat-label{color:var(--text-color);font-weight:600}.stat-value{color:var(--primary-color);font-size:1.1rem;font-weight:700}.heart{font-size:1.1rem;transition:opacity .3s ease}.heart.lost{opacity:.3}.lesson-content{align-items:center;display:flex;flex:1 1;justify-content:center;max-height:calc(100vh - 120px);overflow:hidden;padding:.75rem .75rem calc(70px + env(safe-area-inset-bottom, 0px))}.exercise-container{margin-top:-20px;max-width:500px;text-align:center;width:100%}.exercise-container h3{color:var(--text-color);font-size:1.2rem;margin-bottom:2rem}.question{margin-bottom:2rem}.question h2{color:var(--primary-color);font-size:2.5rem;font-weight:700;margin:0}.options-grid{grid-gap:1rem;display:grid;gap:1rem;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));margin-bottom:2rem}.option-button{background:var(--secondary-background);border:2px solid var(--border-color);border-radius:12px;color:var(--text-color);cursor:pointer;font-size:1.1rem;padding:1rem;transition:all .3s ease}.option-button:hover{border-color:var(--primary-color);box-shadow:0 4px 15px #0000001a;transform:translateY(-2px)}.option-button.selected{background:var(--primary-color);border-color:var(--primary-color);color:#fff}.answer-input{margin-bottom:2rem}.answer-field{background:var(--secondary-background);border:2px solid var(--border-color);border-radius:12px;color:var(--text-color);font-size:1.1rem;max-width:400px;padding:1rem;text-align:center;width:100%}.answer-field:focus{border-color:var(--primary-color);outline:none}.submit-button{background:var(--primary-color);border:none;border-radius:25px;color:#fff;cursor:pointer;font-size:1.1rem;font-weight:600;padding:1rem 2rem;transition:all .3s ease}.submit-button:hover:not(:disabled){box-shadow:0 4px 15px #0003;transform:translateY(-2px)}.submit-button:disabled{cursor:not-allowed;opacity:.5}.matching-grid{grid-gap:1rem;display:grid;gap:1rem;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));margin-bottom:2rem}.match-pair{display:flex;justify-content:center}.match-button{align-items:center;background:var(--secondary-background);border:2px solid var(--border-color);border-radius:12px;color:var(--text-color);cursor:pointer;display:flex;flex-direction:column;gap:.5rem;max-width:200px;padding:1rem;transition:all .3s ease;width:100%}.match-button:hover{border-color:var(--primary-color);transform:translateY(-2px)}.match-button.matched{background:var(--primary-color);border-color:var(--primary-color);color:#fff}.match-button .swedish{font-size:1.2rem;font-weight:700}.match-button .english{font-size:.9rem;opacity:.8}.feedback{align-items:center;animation:feedbackSlideIn .3s ease;border-radius:12px;display:flex;font-size:1.2rem;font-weight:600;gap:1rem;left:50%;padding:2rem;position:fixed;top:50%;transform:translate(-50%,-50%);z-index:1001}.feedback.correct{background:#4caf50;color:#fff}.feedback.incorrect{background:#f44336;color:#fff}.feedback-icon{font-size:1.5rem}@keyframes feedbackSlideIn{0%{opacity:0;transform:translate(-50%,-50%) scale(.8)}to{opacity:1;transform:translate(-50%,-50%) scale(1)}}.lesson-view.dark{--background-color:#1a1a1a;--secondary-background:#2d2d2d;--text-color:#fff;--border-color:#404040}.lesson-view.light{--background-color:#fff;--secondary-background:#f5f5f5;--text-color:#333;--border-color:#e0e0e0}.new-word-indicator{align-items:center;background:#1f2a36;border:1px solid #2e2f38;border-radius:999px;color:#b8b8b8;display:inline-flex;font-size:11px;font-weight:700;gap:6px;letter-spacing:.02em;margin:5px 0 8px;padding:4px 8px}.new-word-indicator .dot{background:#c48bff;border-radius:50%;box-shadow:0 0 0 6px #c48bff26;height:8px;width:8px}.new-word-indicator .label{color:#e5e7eb;text-transform:uppercase}.star-icon{font-size:1.2rem}.instruction{color:#fff;font-size:20px;font-weight:700;margin-bottom:1.25rem;margin-top:10px;text-align:center}.word-section{gap:1rem;margin-bottom:1.5rem}.pronunciation-button,.word-section{align-items:center;display:flex;justify-content:center;position:relative}.pronunciation-button{background:#23bfff;border:none;border-radius:50%;box-shadow:0 6px 18px #23bfff40;color:#fff;cursor:pointer;height:50px;overflow:hidden;transition:all .3s ease;width:50px}.pronunciation-button:after{background:radial-gradient(circle at center,#fff3 0,#fff0 70%);bottom:0;content:"";left:0;opacity:0;position:absolute;right:0;top:0;transition:opacity .3s ease}.pronunciation-button:hover:after{opacity:1}@keyframes speakerPulse{0%{opacity:.8;transform:scale(1)}50%{opacity:1;transform:scale(1.15)}to{opacity:.8;transform:scale(1)}}.pronunciation-button svg{animation:speakerPulse 2s ease-in-out infinite;filter:drop-shadow(0 1px 2px rgba(0,0,0,.3))}.pronunciation-button:hover{background:#1a9fdf;transform:scale(1.1)}.word-container{position:relative}.swedish-word{color:#c48bff;font-size:1.8rem;font-weight:800;margin:0;text-align:center;text-decoration:underline;text-decoration-style:dotted;text-underline-offset:6px}.swedish-word.interactive{cursor:help;position:relative;transition:text-shadow .2s ease}.swedish-word.interactive:hover{text-shadow:none}.english-hint{background:#000c;border-radius:8px;color:#fff;font-size:.9rem;margin-top:.5rem;padding:.5rem 1rem;top:100%;white-space:nowrap;z-index:10}.english-hint,.english-hint:before{left:50%;position:absolute;transform:translateX(-50%)}.english-hint:before{border-bottom:5px solid #000c;border-left:5px solid #0000;border-right:5px solid #0000;content:"";top:-5px}.image-options-grid{grid-gap:.75rem;display:grid;gap:.75rem;grid-template-columns:repeat(2,1fr);margin-bottom:1rem;margin-left:auto;margin-right:auto;max-width:400px}.exercise-container .image-option{align-items:center;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background:#fffffff2!important;border:2px solid #e0e7ff!important;border-radius:12px;cursor:pointer;display:flex;flex-direction:column;gap:.5rem;padding:1rem;transition:all .3s ease}.exercise-container .image-option:hover{border-color:#23bfff!important;box-shadow:0 8px 25px #23bfff26;transform:translateY(-2px)}.exercise-container .image-option.selected{background:#f8d94e1a!important;border-color:#f8d94e!important;box-shadow:0 0 0 2px #f8d94e,0 0 22px #f8d94e59}.exercise-container .image-option.selected .option-svg{transform:scale(1.05)}.image-option.pressing,.image-option:active{box-shadow:inset 0 8px 24px #00000059,0 2px 8px #00000040;transform:translateY(1px) scale(.98)}.image-option.correct-answer{animation:correctOptionPulse .6s ease-in-out;background:#27ae60;border-color:#27ae60;box-shadow:0 0 20px #27ae6080;transform:scale(1.05)}.image-option.correct-answer:hover{background:#229954;border-color:#229954}.image-option.incorrect-answer{animation:incorrectOptionShake .5s ease-in-out;background:#e74c3c;border-color:#e74c3c;box-shadow:0 0 20px #e74c3c80}.image-option.incorrect-answer:hover{background:#c0392b;border-color:#c0392b}.exercise-container .image-container{align-items:center;display:flex;height:80px;justify-content:center;margin-bottom:.5rem;overflow:visible;position:relative;width:80px}.exercise-container .option-svg{display:block;filter:none!important;height:70px;opacity:1!important;width:70px}.option-svg:where([src=""],[src=null],[src=undefined]){display:none}.option-image{filter:drop-shadow(0 2px 4px rgba(0,0,0,.3));font-size:4rem}.image-option{overflow:hidden;position:relative}.image-option:after{background:#ffffff40;border-radius:50%;content:"";height:10px;left:-100%;left:var(--ripple-x,-100%);opacity:0;pointer-events:none;position:absolute;top:-100%;top:var(--ripple-y,-100%);transform:translate(-50%,-50%);transition:width .4s ease,height .4s ease,opacity .6s ease;width:10px}.image-option.rippling:after{height:220px;opacity:1;width:220px}.exercise-container .option-label{color:#374151!important;font-size:.95rem;font-weight:600;text-align:center;text-transform:capitalize}.continue-button{background:#2c2c2e;border:none;border-radius:25px;color:#a9a9a9;cursor:pointer;font-size:1.1rem;font-weight:600;margin-top:1rem;padding:1rem 2rem;transition:all .3s ease}.continue-button:hover:not(:disabled){background:#3c3c3e;color:#fff}.continue-button:disabled{cursor:not-allowed;opacity:.5}.continue-button.enabled{background:#23bfff;color:#fff}.continue-button.enabled:hover{background:#1a9fdf}.continue-footer{align-items:center;background:#0e1117;border-top:1px solid #2e2f38;bottom:0;display:flex;justify-content:center;left:0;padding:8px 16px;position:fixed;right:0;z-index:1001}.continue-button.correct{animation:correctPulse .6s ease-in-out;background:#27ae60;color:#fff;transform:scale(1.05)}.continue-button.correct:hover{background:#229954}.continue-button.incorrect{animation:incorrectPulse .6s ease-in-out;background:#e74c3c;color:#fff;transform:scale(1.05)}.continue-button.incorrect:hover{background:#c0392b}.continue-button.feedback-active{animation:buttonShake .5s ease-in-out}.button-icon{animation:iconPop .4s ease-out .2s both;font-size:1.2rem;margin-right:.5rem}@keyframes correctPulse{0%{box-shadow:0 0 0 0 #27ae60b3;transform:scale(1)}50%{box-shadow:0 0 0 10px #27ae6000;transform:scale(1.05)}to{box-shadow:0 0 0 0 #27ae6000;transform:scale(1.05)}}@keyframes incorrectPulse{0%{box-shadow:0 0 0 0 #e74c3cb3;transform:scale(1)}50%{box-shadow:0 0 0 10px #e74c3c00;transform:scale(1.05)}to{box-shadow:0 0 0 0 #e74c3c00;transform:scale(1.05)}}@keyframes buttonShake{0%,to{transform:translateX(0)}25%{transform:translateX(-5px)}75%{transform:translateX(5px)}}@keyframes iconPop{0%{opacity:0;transform:scale(0)}50%{transform:scale(1.2)}to{opacity:1;transform:scale(1)}}@keyframes correctOptionPulse{0%{box-shadow:0 0 0 0 #27ae60b3;transform:scale(1)}50%{box-shadow:0 0 0 15px #27ae6000;transform:scale(1.05)}to{box-shadow:0 0 0 0 #27ae6000;transform:scale(1.05)}}@keyframes incorrectOptionShake{0%,to{transform:translateX(0)}25%{transform:translateX(-8px)}75%{transform:translateX(8px)}}@media (max-width:768px){.lesson-header{flex-direction:row;gap:.5rem;padding:.75rem}.lesson-stats{padding:.5rem 1rem}.lesson-content{padding:.75rem .75rem calc(70px + env(safe-area-inset-bottom, 0px))}.question h2{font-size:1.75rem}.matching-grid,.options-grid{grid-template-columns:1fr}.image-options-grid{gap:.6rem;grid-template-columns:repeat(2,1fr);margin-bottom:.75rem}.image-option{padding:.75rem}.image-container{height:60px;margin-bottom:.25rem;width:60px}.option-svg{height:50px;width:50px}.option-image{font-size:2.5rem}.swedish-word{font-size:1.6rem}.instruction{font-size:18px;margin-top:5px}.instruction,.word-section{margin-bottom:1rem}.option-label{font-size:.85rem}.continue-footer{padding:6px 12px}.exercise-container{margin-top:-15px}.pronunciation-button{height:40px;width:40px}.speaker-icon{height:20px;width:20px}.stat{font-size:.8rem}.heart{font-size:1rem}}.game-over-overlay{align-items:center;animation:fadeIn .3s ease-out;background:#000c;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1000}.game-over-modal{animation:slideInUp .4s ease-out;background:#1f2a36;border-radius:16px;box-shadow:0 8px 32px #0000004d;max-width:400px;padding:32px;text-align:center;width:90%}.game-over-icon{animation:heartBeat 1s ease-in-out;font-size:48px;margin-bottom:16px}.game-over-title{color:#fff;font-size:24px;font-weight:700;margin-bottom:16px;margin-top:0}.game-over-message{color:#b8b8b8;font-size:16px;line-height:1.5;margin-bottom:24px;margin-top:0}.game-over-button{animation:buttonPulse .6s ease-in-out;background:#27ae60;border:none;border-radius:8px;color:#fff;cursor:pointer;font-size:16px;font-weight:700;padding:12px 24px;transition:all .2s ease}.game-over-button:hover{background:#2ecc71;transform:scale(1.05)}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes slideInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes heartBeat{0%{transform:scale(1)}25%{transform:scale(1.1)}50%{transform:scale(1)}75%{transform:scale(1.1)}to{transform:scale(1)}}@keyframes buttonPulse{0%{transform:scale(1)}50%{transform:scale(1.05)}to{transform:scale(1)}}