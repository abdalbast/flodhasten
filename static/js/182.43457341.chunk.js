"use strict";(self.webpackChunkflodhasten=self.webpackChunkflodhasten||[]).push([[182],{182:(e,o,n)=>{n.r(o),n.d(o,{default:()=>u});var t=n(950),s=n(327),l=n(840),i=n(414);function a(e){return e.map(e=>[Math.random(),e]).sort().map(e=>e[1])}const r=t.memo(e=>{let{option:o,isCorrect:n,isSelected:s,isRevealed:l,onClick:a,disabled:r}=e;const c=(0,t.useMemo)(()=>{let e="#fff",o="#1976d2";return l?n?(e="#388e3c",o="#fff"):s&&(e="#d32f2f",o="#fff"):s&&(e=n?"#388e3c":"#d32f2f",o="#fff"),{background:e,color:o}},[n,s,l]);return(0,i.jsx)("button",{onClick:a,disabled:r,style:{...c,border:"none",borderRadius:8,padding:"0.7rem",fontWeight:"bold",fontSize:16,cursor:r?"not-allowed":"pointer",boxShadow:"0 1px 4px #90caf9"},children:o})}),c=t.memo(e=>{let{onClick:o}=e;const[n,s]=(0,t.useState)(!1),l=(0,t.useMemo)(()=>({background:"#1976d2",color:"#fff",border:"none",borderRadius:8,padding:"0.8rem 1.5rem",fontWeight:"bold",fontSize:16,cursor:"pointer",marginTop:12,boxShadow:n?"0 4px 12px rgba(25, 118, 210, 0.3)":"0 2px 6px rgba(0,0,0,0.1)",transform:n?"translateY(-2px)":"translateY(0)",transition:"all 0.2s ease"}),[n]);return(0,i.jsx)("button",{onClick:o,style:l,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:"Continue \u2192"})}),d=t.memo(()=>(0,i.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,fontSize:48,animation:"pop 1.5s"},children:(0,i.jsx)("span",{role:"img","aria-label":"confetti",children:"\ud83c\udf89\ud83c\udf8a\u2728\ud83c\udf89\ud83c\udf8a\u2728"})}));function h(e){let{words:o,onWordStatUpdate:n,onLessonComplete:h,isDarkMode:u,onGamePlayed:f,onPerfectScore:p}=e;const[g,m]=(0,t.useState)(0),[b,y]=(0,t.useState)(null),[S,x]=(0,t.useState)(""),[w,v]=(0,t.useState)(!1),[k,C]=(0,t.useState)(!1),[j,T]=(0,t.useState)([]),[M,$]=(0,t.useState)(!1),A=(0,t.useMemo)(()=>o[g]||null,[o,g]);t.useEffect(()=>{if(o.length>0&&A){const e=a([A.english,...a(o.filter(e=>e!==A)).slice(0,3).map(e=>e.english)]);T(e),y(null),x(""),C(!1),$(!1)}},[g,o,A]);const E=(0,t.useCallback)(e=>{if(null!==b)return;y(e);const t=e===A.english;if(n&&n(A.swedish,A.english,t?"correct":"incorrect"),g===o.length-1){const e=o.filter((e,n)=>o[n].english===b).length,n=Math.round(e/o.length*100);f&&f(),100===n&&p&&p(),setTimeout(()=>{alert(`Game completed! Score: ${n}%`),h&&h()},1e3)}else setTimeout(()=>{m(e=>e+1),y(null)},1500)},[g,b,A,o,n,h,f,p]),W=(0,t.useCallback)(()=>{y(null),x(""),C(!1),$(!1),m((g+1)%o.length),(g+1)%o.length===0&&(v(!0),setTimeout(()=>{v(!1),"function"===typeof h&&h()},1500))},[g,o.length,h]),z=(0,t.useCallback)(()=>{A&&async function(e){try{await l.A.playSwedish(e)}catch(o){if(console.log("TTS API failed, falling back to browser TTS:",o.message),"speechSynthesis"in window){window.speechSynthesis.cancel();const o=()=>{const o=window.speechSynthesis.getVoices();console.log("Available voices:",o.map(e=>`${e.name} (${e.lang})`));let n=o.find(e=>e.name.toLowerCase().includes("alva")&&"sv-SE"===e.lang);const t=new window.SpeechSynthesisUtterance(e);if(t.lang="sv-SE",t.rate=.6,t.pitch=1,t.volume=1,!n)return console.log("\u26a0\ufe0f Alva (sv-SE) voice not found. Not playing audio."),void console.log("\ud83d\udccb Available voices:",o.map(e=>`${e.name} (${e.lang})`));t.voice=n,console.log("\ud83c\udfa4 Using Alva (sv-SE) voice:",n.name,n.lang),window.speechSynthesis.speak(t)};window.speechSynthesis.getVoices().length>0?o():window.speechSynthesis.onvoiceschanged=o}else console.log("Speech synthesis not supported in this browser")}}(A.swedish)},[A]);return o.length?A?(0,i.jsxs)("div",{style:{maxWidth:350,margin:"2rem auto",background:"#e3f2fd",padding:"1.5rem",borderRadius:16,boxShadow:"0 2px 8px #90caf9",position:"relative"},children:[(0,i.jsx)("h2",{style:{color:"#1976d2"},children:"Multiple Choice"}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-start",gap:8,marginBottom:8},children:[(0,i.jsx)("span",{style:{fontSize:"1.5rem",color:"#1976d2"},children:A.swedish}),(0,i.jsx)("button",{type:"button","aria-label":`Play ${A.swedish}`,onClick:z,style:{background:"none",border:"none",color:"#1976d2",cursor:"pointer",fontSize:22},children:(0,i.jsx)(s.guq,{})})]}),(0,i.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:12},children:j.map((e,o)=>(0,i.jsx)(r,{option:e,isCorrect:e===A.english,isSelected:b===e,isRevealed:k,onClick:()=>E(e),disabled:k},`${g}-${o}`))}),S&&(0,i.jsx)("div",{style:{marginTop:12,fontWeight:"bold",color:S.includes("Correct")?"#388e3c":"#d32f2f"},children:S}),M&&(0,i.jsx)(c,{onClick:W}),(0,i.jsxs)("div",{style:{marginTop:10,color:"#888"},children:["Word ",g+1," of ",o.length]}),w&&(0,i.jsx)(d,{}),(0,i.jsx)("style",{children:"@keyframes pop { 0%{opacity:0;transform:scale(0.7);} 20%{opacity:1;transform:scale(1.1);} 80%{opacity:1;} 100%{opacity:0;transform:scale(1);} }"})]}):null:(0,i.jsx)("div",{style:{textAlign:"center",marginTop:"2rem"},children:"No words to practice!"})}const u=t.memo(h)}}]);