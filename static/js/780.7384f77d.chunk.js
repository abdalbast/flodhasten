"use strict";(self.webpackChunkflodhasten=self.webpackChunkflodhasten||[]).push([[780],{780:(e,n,o)=>{o.r(n),o.d(n,{default:()=>l});var t=o(950),s=o(327),i=o(840),a=o(414);function r(e){return e.map(e=>[Math.random(),e]).sort().map(e=>e[1])}const l=function(e){let{words:n,onWordStatUpdate:o,onLessonComplete:l}=e;const[c,d]=(0,t.useState)(0),[p,h]=(0,t.useState)(""),[g,u]=(0,t.useState)(!1),[f,b]=(0,t.useState)(0),[m,y]=(0,t.useState)(!1);if(n.length<4)return(0,a.jsx)("div",{style:{textAlign:"center",marginTop:"2rem"},children:"Need at least 4 words!"});const x=n.reduce((e,n)=>(e[n.english]=e[n.english]||[],e[n.english].push(n),e),{}),w=r(Object.values(x).find(e=>e.length>=3)||[n[0],n[1],n[2]]).slice(0,3),S=r(n.filter(e=>!w.includes(e)))[0]||n[3],v=r([...w,S]),j=v.indexOf(S);return(0,a.jsxs)("div",{style:{maxWidth:350,margin:"2rem auto",background:"#fce4ec",padding:"1.5rem",borderRadius:16,boxShadow:"0 2px 8px #f8bbd0",position:"relative"},children:[(0,a.jsx)("h2",{style:{color:"#d81b60"},children:"Odd One Out"}),(0,a.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:12,margin:"1rem 0"},children:v.map((e,n)=>(0,a.jsxs)("button",{onClick:()=>{var e;(e=n)===j?(h("\u2705 Correct!"),u(!0),o&&o(v[e].swedish,v[e].english,"correct"),setTimeout(()=>u(!1),1500),y(!0)):(h("\u274c Try again!"),o&&o(v[e].swedish,v[e].english,"incorrect"))},style:{display:"flex",alignItems:"center",justifyContent:"space-between",background:"#fff",color:"#d81b60",border:"none",borderRadius:8,padding:"0.7rem",fontWeight:"bold",fontSize:16,cursor:"pointer",boxShadow:"0 1px 4px #f8bbd0"},children:[(0,a.jsx)("span",{children:e.swedish}),(0,a.jsx)("span",{children:(0,a.jsx)("button",{type:"button","aria-label":`Play ${e.swedish}`,onClick:n=>{n.stopPropagation(),async function(e){try{await i.A.playSwedish(e)}catch(n){if(console.log("TTS API failed, falling back to browser TTS:",n.message),"speechSynthesis"in window){window.speechSynthesis.cancel();const n=()=>{const n=window.speechSynthesis.getVoices();console.log("Available voices:",n.map(e=>`${e.name} (${e.lang})`));let o=n.find(e=>e.name.toLowerCase().includes("alva")&&"sv-SE"===e.lang);const t=new window.SpeechSynthesisUtterance(e);if(t.lang="sv-SE",t.rate=.6,t.pitch=1,t.volume=1,!o)return console.log("\u26a0\ufe0f Alva (sv-SE) voice not found. Not playing audio."),void console.log("\ud83d\udccb Available voices:",n.map(e=>`${e.name} (${e.lang})`));t.voice=o,console.log("\ud83c\udfa4 Using Alva (sv-SE) voice:",o.name,o.lang),window.speechSynthesis.speak(t)};window.speechSynthesis.getVoices().length>0?n():window.speechSynthesis.onvoiceschanged=n}else console.log("Speech synthesis not supported in this browser")}}(e.swedish)},style:{background:"none",border:"none",color:"#d81b60",cursor:"pointer",fontSize:20,marginLeft:6},children:(0,a.jsx)(s.guq,{})})})]},n))}),p&&(0,a.jsx)("div",{style:{marginTop:12,fontWeight:"bold",color:p.includes("Correct")?"#388e3c":"#d32f2f"},children:p}),m&&(0,a.jsx)("button",{onClick:function(){h(""),y(!1),d(e=>e+1),b(e=>e+1),f+1===n.length&&"function"===typeof l&&l()},style:{background:"#d81b60",color:"#fff",border:"none",borderRadius:8,padding:"0.8rem 1.5rem",fontWeight:"bold",fontSize:16,cursor:"pointer",marginTop:12,boxShadow:"0 2px 6px rgba(0,0,0,0.1)",transition:"all 0.2s ease"},onMouseEnter:e=>{e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 4px 12px rgba(216, 27, 96, 0.3)"},onMouseLeave:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 2px 6px rgba(0,0,0,0.1)"},children:"Continue \u2192"}),(0,a.jsxs)("div",{style:{marginTop:10,color:"#888"},children:["Round ",c+1]}),g&&(0,a.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,fontSize:48,animation:"pop 1.5s"},children:(0,a.jsx)("span",{role:"img","aria-label":"confetti",children:"\ud83c\udf89\ud83c\udf8a\u2728\ud83c\udf89\ud83c\udf8a\u2728"})}),(0,a.jsx)("style",{children:"@keyframes pop { 0%{opacity:0;transform:scale(0.7);} 20%{opacity:1;transform:scale(1.1);} 80%{opacity:1;} 100%{opacity:0;transform:scale(1);} }"})]})}}}]);