"use strict";(self.webpackChunkflodhasten=self.webpackChunkflodhasten||[]).push([[270],{270:(e,s,n)=>{n.r(s),n.d(s,{default:()=>r});var i=n(950),t=n(222),o=n(840),l=n(414);function a(e){return e.map(e=>[Math.random(),e]).sort().map(e=>e[1])}const r=function(e){let{words:s,onWordStatUpdate:n,onLessonComplete:r}=e;const[d]=(0,i.useState)(()=>a(s.map(e=>e.swedish))),[c]=(0,i.useState)(()=>a(s.map(e=>e.english))),[h,g]=(0,i.useState)({swedish:null,english:null}),[p,f]=(0,i.useState)([]),[u,w]=(0,i.useState)(!1),[m,y]=(0,i.useState)(!1);function b(e,i){g(t=>{const o={...t,[e]:i};if(o.swedish&&o.english){s.find(e=>e.swedish===o.swedish&&e.english===o.english)?(f(e=>{const i=[...e,{swedish:o.swedish,english:o.english}];return n&&n(o.swedish,o.english,"correct"),i.length===s.length&&(y(!0),setTimeout(()=>{y(!1),"function"===typeof r&&r()},1500)),i}),g({swedish:null,english:null}),w(!1)):(w(!0),setTimeout(()=>{g({swedish:null,english:null}),w(!1)},700))}return o})}function S(e,s){return p.some(n=>n[e]===s)}return(0,l.jsxs)("div",{style:{maxWidth:500,margin:"2rem auto",background:"#f3e5f5",padding:"1.5rem",borderRadius:16,boxShadow:"0 2px 8px #ce93d8",position:"relative"},children:[(0,l.jsx)("h2",{style:{color:"#8e24aa"},children:"Matching"}),(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gap:16},children:[(0,l.jsxs)("div",{style:{flex:1},children:[(0,l.jsx)("h4",{style:{color:"#8e24aa"},children:"Swedish"}),d.map((e,s)=>(0,l.jsxs)("button",{disabled:S("swedish",e),onClick:()=>b("swedish",e),style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",margin:"0.3rem 0",padding:"0.7rem",borderRadius:8,border:"none",background:S("swedish",e)?"#b2dfdb":h.swedish===e?"#8e24aa":"#fff",color:S("swedish",e)?"#888":h.swedish===e?"#fff":"#8e24aa",fontWeight:"bold",fontSize:16,cursor:"pointer"},children:[(0,l.jsx)("span",{children:e}),(0,l.jsx)("span",{children:(0,l.jsx)("button",{type:"button","aria-label":`Play ${e}`,onClick:s=>{s.stopPropagation(),async function(e){try{await o.A.playSwedish(e)}catch(s){if(console.log("TTS API failed, falling back to browser TTS:",s.message),"speechSynthesis"in window){window.speechSynthesis.cancel();const s=()=>{const s=window.speechSynthesis.getVoices();console.log("Available voices:",s.map(e=>`${e.name} (${e.lang})`));let n=s.find(e=>e.name.toLowerCase().includes("alva")&&"sv-SE"===e.lang);const i=new window.SpeechSynthesisUtterance(e);if(i.lang="sv-SE",i.rate=.6,i.pitch=1,i.volume=1,!n)return console.log("\u26a0\ufe0f Alva (sv-SE) voice not found. Not playing audio."),void console.log("\ud83d\udccb Available voices:",s.map(e=>`${e.name} (${e.lang})`));i.voice=n,console.log("\ud83c\udfa4 Using Alva (sv-SE) voice:",n.name,n.lang),window.speechSynthesis.speak(i)};window.speechSynthesis.getVoices().length>0?s():window.speechSynthesis.onvoiceschanged=s}else console.log("Speech synthesis not supported in this browser")}}(e)},style:{background:"none",border:"none",color:"inherit",cursor:"pointer",fontSize:20,marginLeft:6},children:(0,l.jsx)(t.guq,{})})})]},s))]}),(0,l.jsxs)("div",{style:{flex:1},children:[(0,l.jsx)("h4",{style:{color:"#8e24aa"},children:"English"}),c.map((e,s)=>(0,l.jsx)("button",{disabled:S("english",e),onClick:()=>b("english",e),style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",margin:"0.3rem 0",padding:"0.7rem",borderRadius:8,border:"none",background:S("english",e)?"#b2dfdb":h.english===e?"#8e24aa":"#fff",color:S("english",e)?"#888":h.english===e?"#fff":"#8e24aa",fontWeight:"bold",fontSize:16,cursor:"pointer"},children:(0,l.jsx)("span",{children:e})},s))]})]}),u&&(0,l.jsx)("div",{style:{color:"#d32f2f",marginTop:10},children:"Not a match!"}),p.length===s.length&&(0,l.jsx)("div",{style:{color:"#388e3c",marginTop:16,fontWeight:"bold"},children:"All matched! \ud83c\udf89"}),m&&(0,l.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,fontSize:48,animation:"pop 1.5s"},children:(0,l.jsx)("span",{role:"img","aria-label":"confetti",children:"\ud83c\udf89\ud83c\udf8a\u2728\ud83c\udf89\ud83c\udf8a\u2728"})}),(0,l.jsx)("style",{children:"@keyframes pop { 0%{opacity:0;transform:scale(0.7);} 20%{opacity:1;transform:scale(1.1);} 80%{opacity:1;} 100%{opacity:0;transform:scale(1);} }"})]})}}}]);