"use strict";(self.webpackChunkflodhasten=self.webpackChunkflodhasten||[]).push([[182],{182:(e,o,n)=>{n.r(o),n.d(o,{default:()=>u});var t=n(950),s=n(327),i=n(840),l=n(414);function a(e){return e.map(e=>[Math.random(),e]).sort().map(e=>e[1])}const r=t.memo(e=>{let{option:o,isCorrect:n,isSelected:s,isRevealed:i,onClick:a,disabled:r}=e;const c=(0,t.useMemo)(()=>{let e="#fff",o="#1976d2";return i?n?(e="#388e3c",o="#fff"):s&&(e="#d32f2f",o="#fff"):s&&(e=n?"#388e3c":"#d32f2f",o="#fff"),{background:e,color:o}},[n,s,i]);return(0,l.jsx)("button",{onClick:a,disabled:r,style:{...c,border:"none",borderRadius:8,padding:"0.7rem",fontWeight:"bold",fontSize:16,cursor:r?"not-allowed":"pointer",boxShadow:"0 1px 4px #90caf9"},children:o})}),c=t.memo(e=>{let{onClick:o}=e;const[n,s]=(0,t.useState)(!1),i=(0,t.useMemo)(()=>({background:"#1976d2",color:"#fff",border:"none",borderRadius:8,padding:"0.8rem 1.5rem",fontWeight:"bold",fontSize:16,cursor:"pointer",marginTop:12,boxShadow:n?"0 4px 12px rgba(25, 118, 210, 0.3)":"0 2px 6px rgba(0,0,0,0.1)",transform:n?"translateY(-2px)":"translateY(0)",transition:"all 0.2s ease"}),[n]);return(0,l.jsx)("button",{onClick:o,style:i,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:"Continue \u2192"})}),d=t.memo(()=>(0,l.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,fontSize:48,animation:"pop 1.5s"},children:(0,l.jsx)("span",{role:"img","aria-label":"confetti",children:"\ud83c\udf89\ud83c\udf8a\u2728\ud83c\udf89\ud83c\udf8a\u2728"})}));function h(e){let{words:o,onWordStatUpdate:n,onLessonComplete:h}=e;const[u,p]=(0,t.useState)(0),[f,g]=(0,t.useState)(null),[m,b]=(0,t.useState)(""),[y,x]=(0,t.useState)(!1),[S,w]=(0,t.useState)(!1),[v,k]=(0,t.useState)([]),[C,j]=(0,t.useState)(!1),T=(0,t.useMemo)(()=>o[u]||null,[o,u]);t.useEffect(()=>{if(o.length>0&&T){const e=a([T.english,...a(o.filter(e=>e!==T)).slice(0,3).map(e=>e.english)]);k(e),g(null),b(""),w(!1),j(!1)}},[u,o,T]);const A=(0,t.useCallback)(e=>{g(e),w(!0),e===T.english?(b("\u2705 Correct!"),n&&n(T.swedish,T.english,"correct"),j(!0)):(b("\u274c Not quite right - try again!"),n&&n(T.swedish,T.english,"incorrect"),setTimeout(()=>{g(null),w(!1),b("")},1500))},[T,n]),M=(0,t.useCallback)(()=>{g(null),b(""),w(!1),j(!1),p((u+1)%o.length),(u+1)%o.length===0&&(x(!0),setTimeout(()=>{x(!1),"function"===typeof h&&h()},1500))},[u,o.length,h]),$=(0,t.useCallback)(()=>{T&&async function(e){try{await i.A.playSwedish(e)}catch(o){if(console.log("TTS API failed, falling back to browser TTS:",o.message),"speechSynthesis"in window){window.speechSynthesis.cancel();const o=()=>{const o=window.speechSynthesis.getVoices();console.log("Available voices:",o.map(e=>`${e.name} (${e.lang})`));let n=o.find(e=>e.name.toLowerCase().includes("alva")&&"sv-SE"===e.lang);const t=new window.SpeechSynthesisUtterance(e);if(t.lang="sv-SE",t.rate=.6,t.pitch=1,t.volume=1,!n)return console.log("\u26a0\ufe0f Alva (sv-SE) voice not found. Not playing audio."),void console.log("\ud83d\udccb Available voices:",o.map(e=>`${e.name} (${e.lang})`));t.voice=n,console.log("\ud83c\udfa4 Using Alva (sv-SE) voice:",n.name,n.lang),window.speechSynthesis.speak(t)};window.speechSynthesis.getVoices().length>0?o():window.speechSynthesis.onvoiceschanged=o}else console.log("Speech synthesis not supported in this browser")}}(T.swedish)},[T]);return o.length?T?(0,l.jsxs)("div",{style:{maxWidth:350,margin:"2rem auto",background:"#e3f2fd",padding:"1.5rem",borderRadius:16,boxShadow:"0 2px 8px #90caf9",position:"relative"},children:[(0,l.jsx)("h2",{style:{color:"#1976d2"},children:"Multiple Choice"}),(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-start",gap:8,marginBottom:8},children:[(0,l.jsx)("span",{style:{fontSize:"1.5rem",color:"#1976d2"},children:T.swedish}),(0,l.jsx)("button",{type:"button","aria-label":`Play ${T.swedish}`,onClick:$,style:{background:"none",border:"none",color:"#1976d2",cursor:"pointer",fontSize:22},children:(0,l.jsx)(s.guq,{})})]}),(0,l.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:12},children:v.map((e,o)=>(0,l.jsx)(r,{option:e,isCorrect:e===T.english,isSelected:f===e,isRevealed:S,onClick:()=>A(e),disabled:S},`${u}-${o}`))}),m&&(0,l.jsx)("div",{style:{marginTop:12,fontWeight:"bold",color:m.includes("Correct")?"#388e3c":"#d32f2f"},children:m}),C&&(0,l.jsx)(c,{onClick:M}),(0,l.jsxs)("div",{style:{marginTop:10,color:"#888"},children:["Word ",u+1," of ",o.length]}),y&&(0,l.jsx)(d,{}),(0,l.jsx)("style",{children:"@keyframes pop { 0%{opacity:0;transform:scale(0.7);} 20%{opacity:1;transform:scale(1.1);} 80%{opacity:1;} 100%{opacity:0;transform:scale(1);} }"})]}):null:(0,l.jsx)("div",{style:{textAlign:"center",marginTop:"2rem"},children:"No words to practice!"})}const u=t.memo(h)}}]);