"use strict";(self.webpackChunkflodhasten=self.webpackChunkflodhasten||[]).push([[182],{182:(e,o,t)=>{t.r(o),t.d(o,{default:()=>h});var n=t(950),s=t(222),l=t(840),i=t(414);function a(e){return e.map(e=>[Math.random(),e]).sort().map(e=>e[1])}const r=n.memo(e=>{let{option:o,isCorrect:t,isSelected:s,isRevealed:l,onClick:a,disabled:r,iconSet:c="sketch"}=e;const d=(0,n.useMemo)(()=>{let e="#fff",o="#1976d2";return l?t?(e="#388e3c",o="#fff"):s&&(e="#d32f2f",o="#fff"):s&&(e=t?"#388e3c":"#d32f2f",o="#fff"),{background:e,color:o}},[t,s,l]),f=`/icons/sketch/${(e=>{const o={water:"water",milk:"milk",coffee:"coffee",bread:"bread",tea:"coffee",hello:"water","thank you":"milk",yes:"coffee",no:"bread",goodbye:"water",i:"water",you:"milk",he:"coffee",she:"bread",we:"water",default:"water"};return o[e.toLowerCase()]||o.default})(o)}.svg`;return(0,i.jsxs)("button",{onClick:a,disabled:r,style:{...d,border:"none",borderRadius:8,padding:"0.7rem",fontWeight:"bold",fontSize:16,cursor:r?"not-allowed":"pointer",boxShadow:"0 1px 4px #90caf9",display:"flex",alignItems:"center",gap:"12px",justifyContent:"flex-start"},children:[(0,i.jsx)("img",{src:f,alt:`${o} icon`,style:{width:"32px",height:"32px",flexShrink:0,border:"1px solid #ccc",borderRadius:"4px",backgroundColor:"#f5f5f5"}}),o]})}),c=n.memo(e=>{let{onClick:o}=e;const[t,s]=(0,n.useState)(!1),l=(0,n.useMemo)(()=>({background:"#1976d2",color:"#fff",border:"none",borderRadius:8,padding:"0.8rem 1.5rem",fontWeight:"bold",fontSize:16,cursor:"pointer",marginTop:12,boxShadow:t?"0 4px 12px rgba(25, 118, 210, 0.3)":"0 2px 6px rgba(0,0,0,0.1)",transform:t?"translateY(-2px)":"translateY(0)",transition:"all 0.2s ease"}),[t]);return(0,i.jsx)("button",{onClick:o,style:l,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:"Continue \u2192"})}),d=n.memo(()=>(0,i.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,fontSize:48,animation:"pop 1.5s"},children:(0,i.jsx)("span",{role:"img","aria-label":"confetti",children:"\ud83c\udf89\ud83c\udf8a\u2728\ud83c\udf89\ud83c\udf8a\u2728"})}));function f(e){let{words:o,onWordStatUpdate:t,onLessonComplete:f,isDarkMode:h,onGamePlayed:u,onPerfectScore:p,iconSet:g="sketch"}=e;const[m,b]=(0,n.useState)(0),[x,y]=(0,n.useState)(null),[w,S]=(0,n.useState)(""),[k,v]=(0,n.useState)(!1),[C,j]=(0,n.useState)(!1),[T,$]=(0,n.useState)([]),[M,A]=(0,n.useState)(!1),E=(0,n.useMemo)(()=>o[m]||null,[o,m]);n.useEffect(()=>{if(o.length>0&&E){const e=a([E.english,...a(o.filter(e=>e!==E)).slice(0,3).map(e=>e.english)]);$(e),y(null),S(""),j(!1),A(!1)}},[m,o,E]);const R=(0,n.useCallback)(e=>{if(null!==x)return;y(e);const n=e===E.english;if(t&&t(E.swedish,E.english,n?"correct":"incorrect"),m===o.length-1){const e=o.filter((e,t)=>o[t].english===x).length,t=Math.round(e/o.length*100);u&&u(),100===t&&p&&p(),setTimeout(()=>{alert(`Game completed! Score: ${t}%`),f&&f()},1e3)}else setTimeout(()=>{b(e=>e+1),y(null)},1500)},[m,x,E,o,t,f,u,p]),W=(0,n.useCallback)(()=>{y(null),S(""),j(!1),A(!1),b((m+1)%o.length),(m+1)%o.length===0&&(v(!0),setTimeout(()=>{v(!1),"function"===typeof f&&f()},1500))},[m,o.length,f]),z=(0,n.useCallback)(()=>{E&&async function(e){try{await l.A.playSwedish(e)}catch(o){if(console.log("TTS API failed, falling back to browser TTS:",o.message),"speechSynthesis"in window){window.speechSynthesis.cancel();const o=()=>{const o=window.speechSynthesis.getVoices();console.log("Available voices:",o.map(e=>`${e.name} (${e.lang})`));let t=o.find(e=>e.name.toLowerCase().includes("alva")&&"sv-SE"===e.lang);const n=new window.SpeechSynthesisUtterance(e);if(n.lang="sv-SE",n.rate=.6,n.pitch=1,n.volume=1,!t)return console.log("\u26a0\ufe0f Alva (sv-SE) voice not found. Not playing audio."),void console.log("\ud83d\udccb Available voices:",o.map(e=>`${e.name} (${e.lang})`));n.voice=t,console.log("\ud83c\udfa4 Using Alva (sv-SE) voice:",t.name,t.lang),window.speechSynthesis.speak(n)};window.speechSynthesis.getVoices().length>0?o():window.speechSynthesis.onvoiceschanged=o}else console.log("Speech synthesis not supported in this browser")}}(E.swedish)},[E]);return o.length?E?(0,i.jsxs)("div",{style:{maxWidth:350,margin:"2rem auto",background:"#e3f2fd",padding:"1.5rem",borderRadius:16,boxShadow:"0 2px 8px #90caf9",position:"relative"},children:[(0,i.jsx)("h2",{style:{color:"#1976d2"},children:"Multiple Choice"}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-start",gap:8,marginBottom:8},children:[(0,i.jsx)("span",{style:{fontSize:"1.5rem",color:"#1976d2"},children:E.swedish}),(0,i.jsx)("button",{type:"button","aria-label":`Play ${E.swedish}`,onClick:z,style:{background:"none",border:"none",color:"#1976d2",cursor:"pointer",fontSize:22},children:(0,i.jsx)(s.guq,{})})]}),(0,i.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:12},children:T.map((e,o)=>(0,i.jsx)(r,{option:e,isCorrect:e===E.english,isSelected:x===e,isRevealed:C,onClick:()=>R(e),disabled:C,iconSet:g},`${m}-${o}`))}),w&&(0,i.jsx)("div",{style:{marginTop:12,fontWeight:"bold",color:w.includes("Correct")?"#388e3c":"#d32f2f"},children:w}),M&&(0,i.jsx)(c,{onClick:W}),(0,i.jsxs)("div",{style:{marginTop:10,color:"#888"},children:["Word ",m+1," of ",o.length]}),k&&(0,i.jsx)(d,{}),(0,i.jsx)("style",{children:"@keyframes pop { 0%{opacity:0;transform:scale(0.7);} 20%{opacity:1;transform:scale(1.1);} 80%{opacity:1;} 100%{opacity:0;transform:scale(1);} }"})]}):null:(0,i.jsx)("div",{style:{textAlign:"center",marginTop:"2rem"},children:"No words to practice!"})}const h=n.memo(f)}}]);