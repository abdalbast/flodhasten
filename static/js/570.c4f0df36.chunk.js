"use strict";(self.webpackChunkflodhasten=self.webpackChunkflodhasten||[]).push([[570],{570:(e,o,t)=>{t.r(o),t.d(o,{default:()=>r});var n=t(950),s=t(222),i=t(840),a=t(414);const r=function(e){let{words:o,onWordStatUpdate:t,onLessonComplete:r}=e;const[l,c]=(0,n.useState)(0),[d,h]=(0,n.useState)(""),[p,g]=(0,n.useState)(""),[u,f]=(0,n.useState)(!1),[b,m]=(0,n.useState)(!1);if(!o.length)return(0,a.jsx)("div",{style:{textAlign:"center",marginTop:"2rem"},children:"No words to practice!"});const y=o[l];return(0,a.jsxs)("div",{style:{maxWidth:350,margin:"2rem auto",background:"#e8f5e9",padding:"1.5rem",borderRadius:16,boxShadow:"0 2px 8px #a5d6a7",position:"relative"},children:[(0,a.jsx)("h2",{style:{color:"#388e3c"},children:"Audio Recall"}),(0,a.jsxs)("button",{type:"button",onClick:()=>async function(e){try{await i.A.playSwedish(e)}catch(o){if(console.log("TTS API failed, falling back to browser TTS:",o.message),"speechSynthesis"in window){window.speechSynthesis.cancel();const o=()=>{const o=window.speechSynthesis.getVoices();console.log("Available voices:",o.map(e=>`${e.name} (${e.lang})`));let t=o.find(e=>e.name.toLowerCase().includes("alva")&&"sv-SE"===e.lang);const n=new window.SpeechSynthesisUtterance(e);if(n.lang="sv-SE",n.rate=.6,n.pitch=1,n.volume=1,!t)return console.log("\u26a0\ufe0f Alva (sv-SE) voice not found. Not playing audio."),void console.log("\ud83d\udccb Available voices:",o.map(e=>`${e.name} (${e.lang})`));n.voice=t,console.log("\ud83c\udfa4 Using Alva (sv-SE) voice:",t.name,t.lang),window.speechSynthesis.speak(n)};window.speechSynthesis.getVoices().length>0?o():window.speechSynthesis.onvoiceschanged=o}else console.log("Speech synthesis not supported in this browser")}}(y.swedish),style:{background:"#388e3c",color:"#fff",border:"none",borderRadius:8,padding:"0.7rem 1.2rem",fontWeight:"bold",fontSize:18,cursor:"pointer",margin:"1rem 0",display:"flex",alignItems:"center",gap:6},children:[(0,a.jsx)(s.guq,{})," Play Swedish"]}),(0,a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),d.trim().toLowerCase()===y.english.toLowerCase()?(g("\u2705 Correct!"),t&&t(y.swedish,y.english,"correct"),m(!0)):(g("\u274c Try again!"),t&&t(y.swedish,y.english,"incorrect"))},children:[(0,a.jsx)("input",{value:d,onChange:e=>h(e.target.value),placeholder:"Type English...",autoFocus:!0,style:{width:"100%",padding:10,borderRadius:8,border:"1px solid #a5d6a7",fontSize:18}}),(0,a.jsx)("button",{type:"submit",style:{marginTop:14,width:"100%",background:"#388e3c",color:"#fff",border:"none",borderRadius:8,padding:10,fontWeight:"bold",fontSize:16,cursor:"pointer"},children:"Check"})]}),p&&(0,a.jsx)("div",{style:{marginTop:12,fontWeight:"bold",color:p.includes("Correct")?"#388e3c":"#d32f2f"},children:p}),b&&(0,a.jsx)("button",{onClick:function(){h(""),g(""),m(!1),c((l+1)%o.length),(l+1)%o.length===0&&(f(!0),setTimeout(()=>{f(!1),"function"===typeof r&&r()},1500))},style:{background:"#388e3c",color:"#fff",border:"none",borderRadius:8,padding:"0.8rem 1.5rem",fontWeight:"bold",fontSize:16,cursor:"pointer",marginTop:12,boxShadow:"0 2px 6px rgba(0,0,0,0.1)",transition:"all 0.2s ease"},onMouseEnter:e=>{e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 4px 12px rgba(56, 142, 60, 0.3)"},onMouseLeave:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 2px 6px rgba(0,0,0,0.1)"},children:"Continue \u2192"}),(0,a.jsxs)("div",{style:{marginTop:10,color:"#888"},children:["Word ",l+1," of ",o.length]}),u&&(0,a.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,fontSize:48,animation:"pop 1.5s"},children:(0,a.jsx)("span",{role:"img","aria-label":"confetti",children:"\ud83c\udf89\ud83c\udf8a\u2728\ud83c\udf89\ud83c\udf8a\u2728"})}),(0,a.jsx)("style",{children:"@keyframes pop { 0%{opacity:0;transform:scale(0.7);} 20%{opacity:1;transform:scale(1.1);} 80%{opacity:1;} 100%{opacity:0;transform:scale(1);} }"})]})}}}]);